(window["webpackJsonpinitPages"] = window["webpackJsonpinitPages"] || []).push([["Popup"],{

/***/ "./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./src/components/Popup/index.vue?vue&type=script&lang=js&":
/*!***********************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib??ref--0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Popup/index.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _configData_eventBus_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/configData/eventBus.js */ "./src/configData/eventBus.js");
/* harmony import */ var _utils_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/common.js */ "./src/utils/common.js");
/* harmony import */ var _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/helper.js */ "./src/utils/helper.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


 //import Skeleton from "@/components/Skeleton";
//import CardTextRight from "@/components/Card/CardTextRight";
//import PopupPost from "@/components/Popup/PopupPost";
//import CateBox from "@/components/Box/CateBox";
//import FuncGroup from "@/components/FuncGroup";
//import Header from "@/components/Popup/Header";
//import Footer from "@/components/Popup/Footer";
//import Footer from "@/components/Popup/Footer";

/* harmony default export */ __webpack_exports__["default"] = ({
  name: "Popup",
  props: {
    state: {
      "default": null
    },
    status: {
      ///trạng thái popup (mặc định là đóng)
      "default": false
    },
    typeIcon: {
      "default": ""
    },
    typeContent: {
      "default": "thumb"
    },
    id: {
      "default": null
    },
    topicId: {
      "default": null
    },
    topicName: {
      "default": null
    },
    popupOverload: {
      "default": false
    }
  },
  methods: {
    scrollToLoad: function scrollToLoad(event) {
      var _this = this;

      var element = event.target;

      if (element.scrollHeight - element.scrollTop === element.clientHeight) {
        this.showLoadMore = true;
        this.pages = this.pages + 1;
        var config = _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].checkJwt(this.$root.user); ///call api của bigEvent

        _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getKingToken(function (tk) {
          Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(null, /*! axios */ "./node_modules/axios/index.js", 7)).then(function (_ref) {
            var axios = _ref["default"];
            axios(_utils_common_js__WEBPACK_IMPORTED_MODULE_1__["apiWeb"].topicArticles(_this.$root.buildMethod.domainApi, config[0], config[1], _this.pages, _this.topicId), _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getHeader(tk)).then(function (rs) {
              if (rs.data != "") {
                _this.topicArticles = _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].unqId([].concat(_toConsumableArray(_this.topicArticles), _toConsumableArray(rs.data.data)));
                _this.showLoadMore = false;
              } else {
                _this.showLoadMore = false;

                _this.$el.removeEventListener("scroll", _this.scrollToLoad);
              }
            });
          });
        }, this.$root.buildMethod.domain);
      }
    },
    clickOutSide: function clickOutSide(event) {
      var _this2 = this;

      event.stopPropagation();

      if (this.$el != undefined) {
        ///dk để ktra xem user có bật popup trên popup k, nếu wrappopup => chỉ bật 1 popup
        if (event.target.classList.contains("wrapPopup")) {
          this.$el.style.background = "none";
          this.$el.classList.remove("fade-in");
          this.$el.classList.add("fade-out"); //history.pushState(null, 'popup', '/')

          this.$root.buildMethod.popupClosed();
          setTimeout(function () {
            document.body.style.marginRight = "0"; ///Truyền thông báo đóng popup (layout)

            _configData_eventBus_js__WEBPACK_IMPORTED_MODULE_0__["popupStatus"].$emit("popupStatus", false);

            if (_this2.typeContent != "cateBox" && _this2.typeContent != "thumb") {
              history.go(-1);
            }
          }, 200);
        } else if (event.target.classList.contains("wrapPopupOverload")) {
          //document.title = this.$root.titlePage
          this.$el.classList.remove("fade-in");
          this.$el.classList.add("fade-out");
          this.$root.buildMethod.popupClosed();
          this.$nextTick(function () {
            document.getElementsByClassName('wrapBox')[0].classList.remove("fade-out");
            document.getElementsByClassName('wrapBox')[0].classList.add("fade-in");
          });
          setTimeout(function () {
            ///Truyền thông báo đóng popupOverload (layout)
            _configData_eventBus_js__WEBPACK_IMPORTED_MODULE_0__["popupStatusOverload"].$emit("popupStatusOverload", false);

            if (_this2.typeContent != "cateBox" && _this2.typeContent != "thumb") {
              history.go(-1);
            }
          }, 200); //history.pushState(null, 'popup', '/')
        }
      }
    },
    closePopup: function closePopup() {
      var _this3 = this;

      this.$root.buildMethod.popupClosed(); //document.title = this.$root.titlePage
      ///dk để ktra xem user có bật popup trên popup k, nếu wrappopup => chỉ bật 1 popup

      if (this.$el.classList.contains("wrapPopup")) {
        this.$el.style.background = "none";
        this.$el.classList.remove("fade-in");
        this.$el.classList.add("fade-out");
        setTimeout(function () {
          document.body.style.marginRight = "0";
          _configData_eventBus_js__WEBPACK_IMPORTED_MODULE_0__["popupStatus"].$emit("popupStatus", false); //history.pushState({}, 'popup', '/')

          if (_this3.typeContent != "cateBox" && _this3.typeContent != "thumb") {
            history.go(-1);
          }
        }, 200);
      } else if (this.$el.classList.contains("wrapPopupOverload")) {
        this.$el.classList.remove("fade-in");
        this.$el.classList.add("fade-out");
        this.$nextTick(function () {
          document.getElementsByClassName('wrapBox')[0].classList.remove("fade-out");
          document.getElementsByClassName('wrapBox')[0].classList.add("fade-in");
        });
        setTimeout(function () {
          ///Truyền thông báo đóng popupOverload (layout)
          _configData_eventBus_js__WEBPACK_IMPORTED_MODULE_0__["popupStatusOverload"].$emit("popupStatusOverload", false); //history.pushState({}, 'popup', this.$root.origin)

          if (_this3.typeContent != "cateBox" && _this3.typeContent != "thumb") {
            history.go(-1);
          }
        }, 200);
      }
    },
    onDragStart: function onDragStart(event) {
      this.$el.firstElementChild.classList.add("dragging");
      var style = getComputedStyle(this.$el.firstElementChild);
      this.$el.firstElementChild.drag = {
        y: (event.pageY || event.clientY + document.body.scrollTop) - this.$el.firstElementChild.offsetTop + parseInt(style.marginTop),
        source: this.$el.firstElementChild
      };
    },
    onDragMove: function onDragMove(event) {
      if (!this.$el.firstElementChild.drag) {
        return;
      } else if (this.$el.firstElementChild.drag != null) {
        this.move = true;
        this.$el.firstElementChild.style.top = (event.pageY || event.clientY + document.body.scrollTop) - this.$el.firstElementChild.drag.y + "px";
      }
    },
    onDragEnd: function onDragEnd(event) {
      if (!this.$el.firstElementChild.drag) {
        return;
      } else if (this.move) {
        this.$el.firstElementChild.classList.remove("dragging");

        if (parseInt(this.$el.firstElementChild.style.top.replace("px", "")) > parseInt(this.top.replace("px", "")) + 100 || parseInt(this.$el.firstElementChild.style.top.replace("px", "")) < parseInt(this.top.replace("px", "")) - 100) {
          this.closePopup();
        } else {
          this.$el.firstElementChild.style.top = "".concat(this.top, "px");
        }

        this.$el.firstElementChild.drag = null;
        this.move = false;
      } else {
        this.$el.firstElementChild.classList.remove("dragging");
        this.$el.firstElementChild.drag = null;
        this.move = false;
      }
    },
    onDragOver: function onDragOver(event) {
      event.preventDefault();
    },
    openPopup__: function openPopup__(e, b) {
      /// click vào mở popup trên popup
      b.preventDefault(); //this.$el.firstElementChild.style.visibility='hidden'

      this.$el.firstElementChild.classList.remove("fade-in");
      this.$el.firstElementChild.classList.add("fade-out");
      var id = arguments[0]; ///truyền status để mở popup (layout)

      id != null || id != undefined || id != "" ? ///Truyền thông báo mở popupOverload (layout)
      _configData_eventBus_js__WEBPACK_IMPORTED_MODULE_0__["popupStatusOverload"].$emit("popupStatusOverload", true, "content", "content", {
        id: id
      }) : "";
    }
  },
  computed: {
    getThis: function getThis() {
      return this;
    }
  },
  components: {
    //Header,Footer,PopupPost,CardTextRight,FuncGroup,CateBox,Skeleton
    Header: function Header() {
      return __webpack_require__.e(/*! import() | Header */ "Header").then(__webpack_require__.bind(null, /*! @/components/Popup/Header */ "./src/components/Popup/Header.vue"));
    },
    Footer: function Footer() {
      return __webpack_require__.e(/*! import() | Footer */ "Footer").then(__webpack_require__.bind(null, /*! @/components/Popup/Footer */ "./src/components/Popup/Footer.vue"));
    },
    PopupPost: function PopupPost() {
      return __webpack_require__.e(/*! import() | PopupPost */ "PopupPost").then(__webpack_require__.bind(null, /*! @/components/Popup/PopupPost */ "./src/components/Popup/PopupPost.vue"));
    },
    CardTextRight: function CardTextRight() {
      return Promise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! @/components/Card/CardTextRight */ "./src/components/Card/CardTextRight.vue"));
    },
    FuncGroup: function FuncGroup() {
      return Promise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! @/components/FuncGroup */ "./src/components/FuncGroup/index.vue"));
    },
    CateBox: function CateBox() {
      return __webpack_require__.e(/*! import() | CateBox */ "CateBox").then(__webpack_require__.bind(null, /*! @/components/Box/CateBox */ "./src/components/Box/CateBox/index.vue"));
    },
    SkeTextRight: function SkeTextRight() {
      return Promise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! @/components/Skeleton/SkeTextRight */ "./src/components/Skeleton/SkeTextRight.vue"));
    },
    AdvPopupTop: function AdvPopupTop() {
      return __webpack_require__.e(/*! import() | AdvPopupTop */ "AdvPopupTop").then(__webpack_require__.bind(null, /*! @/components/Banner/AdvPopupTop */ "./src/components/Banner/AdvPopupTop.vue"));
    }
  },
  data: function data() {
    return {
      top: "0",
      pages: 0,
      move: false,
      showLoadMore: false,
      topicArticles: null,
      //api của bigEvent
      categoryInterested: null,
      //api của cateBox (chuyên mục)
      specializedNews: null,
      //api của cateBox (chuyên trang),
      detail: null,
      ///api của detail popup,
      listBookmark: null,
      //api thumb (ds bài viết đã đánh dấu)
      key: 0
    };
  },
  created: function created() {
    var _this4 = this;

    var config = _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].checkJwt(this.$root.user);

    switch (this.typeContent) {
      case "bigevent":
        if (this.state == null) {
          Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(null, /*! axios */ "./node_modules/axios/index.js", 7)).then(function (_ref2) {
            var axios = _ref2["default"];
            ///call api của bigEvent
            _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getKingToken(function (tk) {
              axios(_utils_common_js__WEBPACK_IMPORTED_MODULE_1__["apiWeb"].topicArticles(_this4.$root.buildMethod.domainApi, config[0], config[1], _this4.pages, _this4.topicId), _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getHeader(tk)).then(function (rs) {
                _this4.topicArticles = _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].unqId(rs.data.data);

                _this4.$nextTick(function () {
                  if (_this4.state == null && _this4.$root.buildMethod.topicId == 0) {
                    history.pushState(_objectSpread(_objectSpread({}, _this4.topicArticles), {}, {
                      type: "bigevent",
                      topicId: _this4.topicId,
                      popupIndex: 1,
                      title: document.title,
                      typeIcon: _this4.typeIcon,
                      typeContent: _this4.typeContent
                    }), 'popup', '/su-kien-noi-bat-' + _this4.topicId + '.htm');
                  }

                  _this4.$el.style.alignItems = 'normal';
                });
              })["catch"](function (e) {
                return console.error(e);
              });
            }, _this4.$root.buildMethod.domain);
          });
        } else {
          this.topicArticles = this.state;
          this.$nextTick(function () {
            document.body.style.overflowY = "hidden";
            _this4.$el.style.alignItems = 'normal';
          });
        }

        break;

      case "hottopic":
        if (this.state == null) {
          Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(null, /*! axios */ "./node_modules/axios/index.js", 7)).then(function (_ref3) {
            var axios = _ref3["default"];
            _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getKingToken(function (tk) {
              axios(_utils_common_js__WEBPACK_IMPORTED_MODULE_1__["apiWeb"].topicArticles(_this4.$root.buildMethod.domainApi, config[0], config[1], _this4.pages, _this4.topicId), _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getHeader(tk)).then(function (rs) {
                _this4.topicArticles = _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].unqId(rs.data.data);

                _this4.$nextTick(function () {
                  if (_this4.state == null && _this4.$root.buildMethod.topicId == 0) {
                    history.pushState(_objectSpread(_objectSpread({}, _this4.topicArticles), {}, {
                      type: "hottopic",
                      topicId: _this4.topicId,
                      popupIndex: 1,
                      title: document.title,
                      typeIcon: _this4.typeIcon,
                      typeContent: _this4.typeContent
                    }), 'popup', '/chu-de-noi-bat-' + _this4.topicId + '.htm');
                  }

                  _this4.$el.style.alignItems = 'normal';
                });
              })["catch"](function (e) {
                return console.error(e);
              });
            }, _this4.$root.buildMethod.domain);
          });
        } else {
          this.topicArticles = this.state;
          this.$nextTick(function () {
            _this4.$el.style.alignItems = 'normal';
            document.body.style.overflowY = "hidden";
          });
        }

        break;

      case "thumb":
        Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(null, /*! axios */ "./node_modules/axios/index.js", 7)).then(function (_ref4) {
          var axios = _ref4["default"];
          _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getKingToken(function (tk) {
            axios(_utils_common_js__WEBPACK_IMPORTED_MODULE_1__["apiWeb"].listBookmark(_this4.$root.buildMethod.domainApi, config[0], config[1]), _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getHeader(tk)).then(function (rs) {
              if (rs.data != null) {
                _this4.listBookmark = rs.data.data;
              }

              if (_this4.listBookmark != null && _this4.listBookmark.length > 3) {
                for (var i = 0; i < _this4.listBookmark.length; i++) {
                  _this4.listBookmark[i].image = _this4.listBookmark[i].sourceImage;
                }

                _this4.$nextTick(function () {
                  _this4.$el.style.alignItems = 'normal';
                });
              }
            })["catch"](function (e) {
              return console.error(e);
            });
          }, _this4.$root.buildMethod.domain);
        });
        break;

      case "cateBox":
        Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(null, /*! axios */ "./node_modules/axios/index.js", 7)).then(function (_ref5) {
          var axios = _ref5["default"];
          _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getKingToken(function (tk) {
            axios(_utils_common_js__WEBPACK_IMPORTED_MODULE_1__["apiWeb"].categoryInterested(_this4.$root.buildMethod.domainApi, config[0], config[1]), _utils_helper_js__WEBPACK_IMPORTED_MODULE_2__["commonHelper"].getHeader(tk)).then(function (rs) {
              _this4.categoryInterested = rs.data.data.filter(function (x) {
                return x.type == 2;
              });
              _this4.specializedNews = rs.data.data.filter(function (x) {
                return x.type == 1;
              });

              if (_this4.categoryInterested.length == 0) {
                _this4.categoryInterested = null;
              }

              if (_this4.specializedNews.length == 0) {
                _this4.specializedNews = null;
              }

              if (_this4.categoryInterested != null && _this4.categoryInterested.length > 3 || _this4.specializedNews != null && _this4.specializedNews.length > 3) {
                _this4.$nextTick(function () {
                  _this4.$el.style.alignItems = 'normal';
                  _this4.top = '0';
                });
              }
            })["catch"](function (e) {
              return console.error(e);
            });
          }, _this4.$root.buildMethod.domain);
        }); ///call api của cateBox

        break;

      case 'content':
        this.$nextTick(function () {
          _this4.$el.style.alignItems = 'normal';
        });
        break;
    }
  },
  mounted: function mounted() {
    //if (this.typeContent != "content" && this.typeContent != "bigevent" && this.typeContent != "thumb" && this.typeContent != "cateBox") {
    if (this.typeContent != "content" && this.typeContent != "bigevent" && this.typeContent != "hottopic") {
      this.top = "".concat(this.$el.firstElementChild.offsetTop);
      this.$el.addEventListener("mousedown", this.onDragStart);
      this.$el.addEventListener("mousemove", this.onDragMove);
      this.$el.addEventListener("mouseup", this.onDragEnd);
      this.$el.addEventListener("mouseout", this.onDragOver);
    } else if (this.typeContent == 'bigevent' && this.$el.classList.contains('wrapPopup') || this.typeContent == 'hottopic' && this.$el.classList.contains('wrapPopup')) {
      this.$el.addEventListener("scroll", this.scrollToLoad);
    }
  },
  updated: function updated() {
    var _this5 = this;

    if (this.state != null) {
      if (this.state.type == 'bigevent' || this.state.type == 'hottopic') {
        this.topicArticles = this.state;
        this.$nextTick(function () {
          _this5.$el.style.alignItems = 'normal';
          document.body.style.overflowY = "hidden";
        });
      }
    }

    this.top = "".concat(this.$el.firstElementChild.offsetTop);
  }
});

/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./src/components/Popup/index.vue?vue&type=style&index=0&id=475807a2&scoped=true&lang=css&":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Popup/index.vue?vue&type=style&index=0&id=475807a2&scoped=true&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/components/Popup/index.vue?vue&type=template&id=475807a2&scoped=true&":
/*!*****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Popup/index.vue?vue&type=template&id=475807a2&scoped=true& ***!
  \*****************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    {
      class: this.popupOverload
        ? "wrapPopupOverload fade-in"
        : "wrapPopup fade-in",
      style: [
        this.typeContent == "content"
          ? { alignItems: "normal" }
          : { alignItems: "center" }
      ],
      on: { click: _vm.clickOutSide }
    },
    [
      _c(
        "div",
        {
          staticClass: "wrapBox",
          style: [
            this.typeContent == "content"
              ? { width: "1160px", marginTop: "30px" }
              : { width: "740px" },
            this.typeContent == "content" ||
            this.typeContent == "bigevent" ||
            this.typeContent == "hottopic"
              ? { overflow: "none", cursor: "context-menu" }
              : { overflow: "hidden", cursor: "grab" }
          ]
        },
        [
          _c(
            "div",
            { staticClass: "popup_container" },
            [
              _c("Header", {
                attrs: {
                  closePopup: this.closePopup,
                  typeIcon: this.typeIcon,
                  topicName: this.topicName
                }
              }),
              _vm._v(" "),
              this.typeContent == "content" ? _c("AdvPopupTop") : _vm._e(),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "content_popup" },
                [
                  this.typeContent == "thumb" && this.listBookmark != null
                    ? _c(
                        "ul",
                        { staticClass: "list_afnews-mid" },
                        _vm._l(this.listBookmark, function(item, index) {
                          return _c(
                            "li",
                            { key: index },
                            [
                              _c("CardTextRight", {
                                attrs: {
                                  sizeSource: 13,
                                  data: item,
                                  positionSource: "bottom",
                                  type: "midThumb",
                                  openPopup: function(e) {
                                    return _vm.getThis.openPopup__(item.id, e)
                                  },
                                  title: item.title,
                                  source: item.source,
                                  date: item.publishDate,
                                  id: item.id
                                }
                              })
                            ],
                            1
                          )
                        }),
                        0
                      )
                    : this.typeContent == "thumb" && this.listBookmark == null
                    ? _c("ul", { staticClass: "list_afnews-mid" }, [
                        _c(
                          "li",
                          {
                            staticClass: "txt",
                            staticStyle: { "text-align": "center" }
                          },
                          [
                            _vm._v(
                              "\n                        Chưa có thông tin\n                    "
                            )
                          ]
                        )
                      ])
                    : this.typeContent == "cateBox"
                    ? _c("div", [
                        this.categoryInterested == null &&
                        this.specializedNews == null
                          ? _c(
                              "div",
                              {
                                staticClass: "txt",
                                staticStyle: { "text-align": "center" }
                              },
                              [
                                _vm._v(
                                  "\n                        Chưa có thông tin\n                    "
                                )
                              ]
                            )
                          : _c(
                              "div",
                              [
                                this.categoryInterested != null &&
                                this.categoryInterested.length > 0
                                  ? _c("CateBox", {
                                      attrs: {
                                        title: "Chuyên mục",
                                        data: this.categoryInterested
                                      }
                                    })
                                  : _vm._e(),
                                _vm._v(" "),
                                this.specializedNews != null &&
                                this.specializedNews.length > 0
                                  ? _c("CateBox", {
                                      attrs: {
                                        title: "Chuyên trang",
                                        data: this.specializedNews
                                      }
                                    })
                                  : _vm._e()
                              ],
                              1
                            )
                      ])
                    : this.typeContent == "content"
                    ? _c("PopupPost", {
                        attrs: { state: this.state, dataId: this.id }
                      })
                    : this.typeContent == "bigevent" ||
                      this.typeContent == "hottopic"
                    ? _c("div", [
                        this.topicArticles != null
                          ? _c(
                              "ul",
                              { staticClass: "list_afnews-mid" },
                              [
                                _vm._l(this.topicArticles, function(
                                  item,
                                  index
                                ) {
                                  return _c(
                                    "li",
                                    { key: index },
                                    [
                                      _c("CardTextRight", {
                                        attrs: {
                                          type: "midThumb",
                                          data: item,
                                          openPopup: function(e) {
                                            return _vm.getThis.openPopup__(
                                              item.id,
                                              e
                                            )
                                          },
                                          styleThumb: {
                                            marginBottom: "0",
                                            marginRight: "20px",
                                            flexShrink: "0"
                                          },
                                          sizeSource: 13,
                                          showPreview: true,
                                          positionSource: "bottom"
                                        }
                                      })
                                    ],
                                    1
                                  )
                                }),
                                _vm._v(" "),
                                this.showLoadMore
                                  ? _c("li", [_c("SkeTextRight")], 1)
                                  : _vm._e()
                              ],
                              2
                            )
                          : _c("ul", [
                              _c("li", [_c("SkeTextRight")], 1),
                              _vm._v(" "),
                              _c("li", [_c("SkeTextRight")], 1),
                              _vm._v(" "),
                              _c("li", [_c("SkeTextRight")], 1)
                            ])
                      ])
                    : _vm._e()
                ],
                1
              ),
              _vm._v(" "),
              _c("Footer")
            ],
            1
          )
        ]
      )
    ]
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "./src/components/Popup/index.vue":
/*!****************************************!*\
  !*** ./src/components/Popup/index.vue ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _index_vue_vue_type_template_id_475807a2_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=475807a2&scoped=true& */ "./src/components/Popup/index.vue?vue&type=template&id=475807a2&scoped=true&");
/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ "./src/components/Popup/index.vue?vue&type=script&lang=js&");
/* empty/unused harmony star reexport *//* harmony import */ var _index_vue_vue_type_style_index_0_id_475807a2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.vue?vue&type=style&index=0&id=475807a2&scoped=true&lang=css& */ "./src/components/Popup/index.vue?vue&type=style&index=0&id=475807a2&scoped=true&lang=css&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");






/* normalize component */

var component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _index_vue_vue_type_template_id_475807a2_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _index_vue_vue_type_template_id_475807a2_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "475807a2",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/components/Popup/index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./src/components/Popup/index.vue?vue&type=script&lang=js&":
/*!*****************************************************************!*\
  !*** ./src/components/Popup/index.vue?vue&type=script&lang=js& ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_babel_loader_lib_index_js_ref_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/babel-loader/lib??ref--0!../../../node_modules/vue-loader/lib??vue-loader-options!./index.vue?vue&type=script&lang=js& */ "./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./src/components/Popup/index.vue?vue&type=script&lang=js&");
/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_babel_loader_lib_index_js_ref_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./src/components/Popup/index.vue?vue&type=style&index=0&id=475807a2&scoped=true&lang=css&":
/*!*************************************************************************************************!*\
  !*** ./src/components/Popup/index.vue?vue&type=style&index=0&id=475807a2&scoped=true&lang=css& ***!
  \*************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_475807a2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib??vue-loader-options!./index.vue?vue&type=style&index=0&id=475807a2&scoped=true&lang=css& */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./src/components/Popup/index.vue?vue&type=style&index=0&id=475807a2&scoped=true&lang=css&");
/* empty/unused harmony star reexport */

/***/ }),

/***/ "./src/components/Popup/index.vue?vue&type=template&id=475807a2&scoped=true&":
/*!***********************************************************************************!*\
  !*** ./src/components/Popup/index.vue?vue&type=template&id=475807a2&scoped=true& ***!
  \***********************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_template_id_475807a2_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib??vue-loader-options!./index.vue?vue&type=template&id=475807a2&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/components/Popup/index.vue?vue&type=template&id=475807a2&scoped=true&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_template_id_475807a2_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_template_id_475807a2_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbml0UGFnZXMvc3JjL2NvbXBvbmVudHMvUG9wdXAvaW5kZXgudnVlIiwid2VicGFjazovL2luaXRQYWdlcy8uL3NyYy9jb21wb25lbnRzL1BvcHVwL2luZGV4LnZ1ZT84NGVkIiwid2VicGFjazovL2luaXRQYWdlcy8uL3NyYy9jb21wb25lbnRzL1BvcHVwL2luZGV4LnZ1ZT8yOGRkIiwid2VicGFjazovL2luaXRQYWdlcy8uL3NyYy9jb21wb25lbnRzL1BvcHVwL2luZGV4LnZ1ZT80Zjc1Iiwid2VicGFjazovL2luaXRQYWdlcy8uL3NyYy9jb21wb25lbnRzL1BvcHVwL2luZGV4LnZ1ZT8zNmIwIiwid2VicGFjazovL2luaXRQYWdlcy8uL3NyYy9jb21wb25lbnRzL1BvcHVwL2luZGV4LnZ1ZT8zYTczIiwid2VicGFjazovL2luaXRQYWdlcy8uL3NyYy9jb21wb25lbnRzL1BvcHVwL2luZGV4LnZ1ZT8yYzU4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMkZBO0FBQ0E7Q0FHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0EsZUFEQTtBQUVBO0FBQ0E7QUFDQTtBQURBLEtBREE7QUFJQTtBQUNBO0FBQ0E7QUFGQSxLQUpBO0FBUUE7QUFDQTtBQURBLEtBUkE7QUFXQTtBQUNBO0FBREEsS0FYQTtBQWNBO0FBQ0E7QUFEQSxLQWRBO0FBaUJBO0FBQ0E7QUFEQSxLQWpCQTtBQW9CQTtBQUNBO0FBREEsS0FwQkE7QUF1QkE7QUFDQTtBQURBO0FBdkJBLEdBRkE7QUE2QkE7QUFDQTtBQUFBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUhBLENBSUE7O0FBQ0E7QUFDQSxVQUFV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QUErQixpQ0FBaUM7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsYUFBYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDck5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBZ0c7QUFDdkM7QUFDTDtBQUNxQzs7O0FBR3pGO0FBQzZGO0FBQzdGLGdCQUFnQiwyR0FBVTtBQUMxQixFQUFFLDJFQUFNO0FBQ1IsRUFBRSw0RkFBTTtBQUNSLEVBQUUscUdBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJLEtBQVUsRUFBRSxZQWlCZjtBQUNEO0FBQ2UsZ0Y7Ozs7Ozs7Ozs7OztBQ3ZDZjtBQUFBO0FBQUEsd0NBQW1MLENBQWdCLCtPQUFHLEVBQUMsQzs7Ozs7Ozs7Ozs7O0FDQXZNO0FBQUE7QUFBQSx3Qzs7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwiZmlsZSI6IlBvcHVwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgQGNsaWNrPVwiY2xpY2tPdXRTaWRlXCIgOmNsYXNzPVwidGhpcy5wb3B1cE92ZXJsb2FkID8gJ3dyYXBQb3B1cE92ZXJsb2FkIGZhZGUtaW4nIDogJ3dyYXBQb3B1cCBmYWRlLWluJ1wiIDpzdHlsZT1cIlt0aGlzLnR5cGVDb250ZW50ID09J2NvbnRlbnQnID97YWxpZ25JdGVtczogJ25vcm1hbCd9OnthbGlnbkl0ZW1zOiAnY2VudGVyJ31dXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIndyYXBCb3hcIlxyXG4gICAgICAgICAgICAgOnN0eWxlPVwiW1xyXG4gICAgICAgIHRoaXMudHlwZUNvbnRlbnQgPT0gJ2NvbnRlbnQnID8geyB3aWR0aDogJzExNjBweCcsICBtYXJnaW5Ub3A6ICczMHB4J30gOiB7IHdpZHRoOiAnNzQwcHgnfSxcclxuICAgICAgICB0aGlzLnR5cGVDb250ZW50ID09ICdjb250ZW50JyB8fCB0aGlzLnR5cGVDb250ZW50ID09ICdiaWdldmVudCd8fCB0aGlzLnR5cGVDb250ZW50ID09ICdob3R0b3BpYycgPyB7b3ZlcmZsb3c6J25vbmUnLGN1cnNvcjogJ2NvbnRleHQtbWVudScsfToge292ZXJmbG93OidoaWRkZW4nLCBjdXJzb3I6ICdncmFiJ31cclxuICAgICAgXSBcIj5cclxuICAgICAgICAgICAgPCEtLXx8IHRoaXMudHlwZUNvbnRlbnQgPT0gJ3RodW1iJ3x8IHRoaXMudHlwZUNvbnRlbnQgPT0gJ2NhdGVCb3gnLS0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3B1cF9jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxIZWFkZXIgOmNsb3NlUG9wdXA9XCJ0aGlzLmNsb3NlUG9wdXBcIiA6dHlwZUljb249XCJ0aGlzLnR5cGVJY29uXCIgOnRvcGljTmFtZT1cInRoaXMudG9waWNOYW1lXCIgLz5cclxuICAgICAgICAgICAgICAgIDxBZHZQb3B1cFRvcCB2LWlmPVwidGhpcy50eXBlQ29udGVudCA9PSAnY29udGVudCdcIiAvPlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50X3BvcHVwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLS8vL3R5cGVDb250ZW50PXRodW1iLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLU5vdGU6IHR5cGUgbsOgeSBjw7MgY2FzZSDEkeG6t2MgYmnhu4d0IGPDsyB0aOG7gyBt4bufIHBvcHVwIHRyw6puIHBvcHVwIHF1YSBwcm9wcyBwb3B1cE92ZXJsb2FkIHRydXnhu4FuIHThu6sgY29tcG9uZW50IExheW91dC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS1u4bq/dSB0cnVlIHThu6ljIHBvcHVwIMSRYyDEkWMgYuG6rXQgxJHDqCA9PiBzZXQgY2xhc3Mgd3JhcFBvcHVwT3ZlcmxvYWQsIG7hur91IGZhbHNlID0+ICBzZXQgY2xhc3Mgd3JhcFBvcHVwLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIHYtaWY9XCJ0aGlzLnR5cGVDb250ZW50ID09ICd0aHVtYicgJiYgdGhpcy5saXN0Qm9va21hcmsgIT0gbnVsbFwiIGNsYXNzPVwibGlzdF9hZm5ld3MtbWlkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSB2LWZvcj1cIihpdGVtLGluZGV4KSBpbiB0aGlzLmxpc3RCb29rbWFya1wiIDprZXk9XCJpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRUZXh0UmlnaHQgOnNpemVTb3VyY2U9XCIxM1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ZGF0YT1cIml0ZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Tb3VyY2U9XCJib3R0b21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm1pZFRodW1iXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpvcGVuUG9wdXA9XCIoZSk9PmdldFRoaXMub3BlblBvcHVwX18oaXRlbS5pZCxlKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6dGl0bGU9XCJpdGVtLnRpdGxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzb3VyY2U9XCJpdGVtLnNvdXJjZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ZGF0ZT1cIml0ZW0ucHVibGlzaERhdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmlkPVwiaXRlbS5pZFwiIC8+ICAgICA8IS0tc2hvd0Z1bmM9XCJmdW5jMVwiLS0+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIHYtZWxzZS1pZj1cInRoaXMudHlwZUNvbnRlbnQgPT0gJ3RodW1iJyAmJiB0aGlzLmxpc3RCb29rbWFyayA9PSBudWxsXCIgY2xhc3M9XCJsaXN0X2FmbmV3cy1taWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwidHh0XCIgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2jGsGEgY8OzIHRow7RuZyB0aW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLXR5cGVDb250ZW50PWNhdGVib3gtLT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtZWxzZS1pZj1cInRoaXMudHlwZUNvbnRlbnQgPT0gJ2NhdGVCb3gnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgdi1pZj1cInRoaXMuY2F0ZWdvcnlJbnRlcmVzdGVkID09IG51bGwgJiYgdGhpcy5zcGVjaWFsaXplZE5ld3MgPT0gbnVsbFwiIGNsYXNzPVwidHh0XCIgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2jGsGEgY8OzIHRow7RuZyB0aW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgdi1lbHNlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhdGVCb3ggdi1pZj1cInRoaXMuY2F0ZWdvcnlJbnRlcmVzdGVkICE9IG51bGwgJiYgdGhpcy5jYXRlZ29yeUludGVyZXN0ZWQubGVuZ3RoPjBcIiB0aXRsZT1cIkNodXnDqm4gbeG7pWNcIiA6ZGF0YT1cInRoaXMuY2F0ZWdvcnlJbnRlcmVzdGVkXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXRlQm94IHYtaWY9XCJ0aGlzLnNwZWNpYWxpemVkTmV3cyAhPSBudWxsICYmIHRoaXMuc3BlY2lhbGl6ZWROZXdzLmxlbmd0aD4wIFwiIHRpdGxlPVwiQ2h1ecOqbiB0cmFuZ1wiIDpkYXRhPVwidGhpcy5zcGVjaWFsaXplZE5ld3NcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLXR5cGVDb250ZW50PWNvbnRlbnQtLT5cclxuICAgICAgICAgICAgICAgICAgICA8UG9wdXBQb3N0IDpzdGF0ZT1cInRoaXMuc3RhdGVcIiA6ZGF0YUlkPVwidGhpcy5pZFwiIHYtZWxzZS1pZj1cInRoaXMudHlwZUNvbnRlbnQgPT0gJ2NvbnRlbnQnXCIgLz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLXR5cGVDb250ZW50PWJpZ2V2ZW50IHx8IGhvdHRvcGljLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLU5vdGU6IHR5cGUgbsOgeSBjw7MgY2FzZSDEkeG6t2MgYmnhu4d0IGPDsyB0aOG7gyBt4bufIHBvcHVwIHRyw6puIHBvcHVwIHF1YSBwcm9wcyBwb3B1cE92ZXJsb2FkIHRydXnhu4FuIHThu6sgY29tcG9uZW50IExheW91dC0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS1u4bq/dSB0cnVlIHThu6ljIHBvcHVwIMSRYyDEkWMgYuG6rXQgxJHDqCA9PiBzZXQgY2xhc3Mgd3JhcFBvcHVwT3ZlcmxvYWQsIG7hur91IGZhbHNlID0+ICBzZXQgY2xhc3Mgd3JhcFBvcHVwLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWVsc2UtaWY9XCJ0aGlzLnR5cGVDb250ZW50ID09ICdiaWdldmVudCcgfHwgdGhpcy50eXBlQ29udGVudCA9PSAnaG90dG9waWMnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCB2LWlmPVwidGhpcy50b3BpY0FydGljbGVzICE9IG51bGxcIiBjbGFzcz1cImxpc3RfYWZuZXdzLW1pZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIHYtZm9yPVwiKGl0ZW0saW5kZXgpIGluIHRoaXMudG9waWNBcnRpY2xlc1wiIDprZXk9XCJpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGV4dFJpZ2h0IHR5cGU9XCJtaWRUaHVtYlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmRhdGE9XCJpdGVtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6b3BlblBvcHVwPVwiKGUpPT5nZXRUaGlzLm9wZW5Qb3B1cF9fKGl0ZW0uaWQsZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzdHlsZVRodW1iPVwieyBtYXJnaW5Cb3R0b206ICcwJywgbWFyZ2luUmlnaHQ6ICcyMHB4JyAsZmxleFNocmluazogJzAnfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNpemVTb3VyY2U9XCIxM1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnNob3dQcmV2aWV3PVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Tb3VyY2U9XCJib3R0b21cIiAvPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgdi1pZj1cInRoaXMuc2hvd0xvYWRNb3JlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNrZVRleHRSaWdodCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHYtZWxzZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2tlVGV4dFJpZ2h0IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VUZXh0UmlnaHQgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNrZVRleHRSaWdodCAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxGb290ZXIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcbiAgICBpbXBvcnQgeyBwb3B1cFN0YXR1cywgcG9wdXBTdGF0dXNPdmVybG9hZCB9IGZyb20gXCJAL2NvbmZpZ0RhdGEvZXZlbnRCdXMuanNcIjtcclxuICAgIGltcG9ydCB7IGFwaVdlYiB9IGZyb20gJ0AvdXRpbHMvY29tbW9uLmpzJztcclxuICAgIGltcG9ydCB7IGNvbW1vbkhlbHBlciB9IGZyb20gJ0AvdXRpbHMvaGVscGVyLmpzJztcclxuXHJcbiAgICAvL2ltcG9ydCBTa2VsZXRvbiBmcm9tIFwiQC9jb21wb25lbnRzL1NrZWxldG9uXCI7XHJcbiAgICAvL2ltcG9ydCBDYXJkVGV4dFJpZ2h0IGZyb20gXCJAL2NvbXBvbmVudHMvQ2FyZC9DYXJkVGV4dFJpZ2h0XCI7XHJcbiAgICAvL2ltcG9ydCBQb3B1cFBvc3QgZnJvbSBcIkAvY29tcG9uZW50cy9Qb3B1cC9Qb3B1cFBvc3RcIjtcclxuICAgIC8vaW1wb3J0IENhdGVCb3ggZnJvbSBcIkAvY29tcG9uZW50cy9Cb3gvQ2F0ZUJveFwiO1xyXG4gICAgLy9pbXBvcnQgRnVuY0dyb3VwIGZyb20gXCJAL2NvbXBvbmVudHMvRnVuY0dyb3VwXCI7XHJcbiAgICAvL2ltcG9ydCBIZWFkZXIgZnJvbSBcIkAvY29tcG9uZW50cy9Qb3B1cC9IZWFkZXJcIjtcclxuICAgIC8vaW1wb3J0IEZvb3RlciBmcm9tIFwiQC9jb21wb25lbnRzL1BvcHVwL0Zvb3RlclwiO1xyXG4gICAgLy9pbXBvcnQgRm9vdGVyIGZyb20gXCJAL2NvbXBvbmVudHMvUG9wdXAvRm9vdGVyXCI7XHJcbiAgICBleHBvcnQgZGVmYXVsdCB7XHJcbiAgICAgICAgbmFtZTogXCJQb3B1cFwiLFxyXG4gICAgICAgIHByb3BzOiB7XHJcbiAgICAgICAgICAgIHN0YXRlOiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0YXR1czoge1xyXG4gICAgICAgICAgICAgICAgLy8vdHLhuqFuZyB0aMOhaSBwb3B1cCAobeG6t2MgxJHhu4tuaCBsw6AgxJHDs25nKVxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHR5cGVJY29uOiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIlwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0eXBlQ29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogXCJ0aHVtYlwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpZDoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b3BpY0lkOiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBudWxsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRvcGljTmFtZToge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwb3B1cE92ZXJsb2FkOiB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvTG9hZDogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnNjcm9sbEhlaWdodCAtIGVsZW1lbnQuc2Nyb2xsVG9wID09PSBlbGVtZW50LmNsaWVudEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0xvYWRNb3JlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZXMgPSB0aGlzLnBhZ2VzICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29uZmlnID0gY29tbW9uSGVscGVyLmNoZWNrSnd0KHRoaXMuJHJvb3QudXNlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8vY2FsbCBhcGkgY+G7p2EgYmlnRXZlbnRcclxuICAgICAgICAgICAgICAgICAgICBjb21tb25IZWxwZXIuZ2V0S2luZ1Rva2VuKHRrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0KCdheGlvcycpLnRoZW4oKHsgZGVmYXVsdDogYXhpb3MgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MoYXBpV2ViLnRvcGljQXJ0aWNsZXModGhpcy4kcm9vdC5idWlsZE1ldGhvZC5kb21haW5BcGksIGNvbmZpZ1swXSwgY29uZmlnWzFdLCB0aGlzLnBhZ2VzLCB0aGlzLnRvcGljSWQpLCBjb21tb25IZWxwZXIuZ2V0SGVhZGVyKHRrKSkudGhlbihycyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzLmRhdGEgIT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvcGljQXJ0aWNsZXMgPSBjb21tb25IZWxwZXIudW5xSWQoWy4uLnRoaXMudG9waWNBcnRpY2xlcywgLi4ucnMuZGF0YS5kYXRhXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZE1vcmUgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZE1vcmUgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuc2Nyb2xsVG9Mb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLiRyb290LmJ1aWxkTWV0aG9kLmRvbWFpbilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xpY2tPdXRTaWRlOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGVsICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vL2RrIMSR4buDIGt0cmEgeGVtIHVzZXIgY8OzIGLhuq10IHBvcHVwIHRyw6puIHBvcHVwIGssIG7hur91IHdyYXBwb3B1cCA9PiBjaOG7iSBi4bqtdCAxIHBvcHVwXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ3cmFwUG9wdXBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuc3R5bGUuYmFja2dyb3VuZCA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZmFkZS1pblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuY2xhc3NMaXN0LmFkZChcImZhZGUtb3V0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2hpc3RvcnkucHVzaFN0YXRlKG51bGwsICdwb3B1cCcsICcvJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC5idWlsZE1ldGhvZC5wb3B1cENsb3NlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL1RydXnhu4FuIHRow7RuZyBiw6FvIMSRw7NuZyBwb3B1cCAobGF5b3V0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBTdGF0dXMuJGVtaXQoXCJwb3B1cFN0YXR1c1wiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlQ29udGVudCAhPSBcImNhdGVCb3hcIiAmJiB0aGlzLnR5cGVDb250ZW50ICE9IFwidGh1bWJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ3cmFwUG9wdXBPdmVybG9hZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RvY3VtZW50LnRpdGxlID0gdGhpcy4kcm9vdC50aXRsZVBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuY2xhc3NMaXN0LnJlbW92ZShcImZhZGUtaW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoXCJmYWRlLW91dFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm9vdC5idWlsZE1ldGhvZC5wb3B1cENsb3NlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3cmFwQm94JylbMF0uY2xhc3NMaXN0LnJlbW92ZShcImZhZGUtb3V0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnd3JhcEJveCcpWzBdLmNsYXNzTGlzdC5hZGQoXCJmYWRlLWluXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL1RydXnhu4FuIHRow7RuZyBiw6FvIMSRw7NuZyBwb3B1cE92ZXJsb2FkIChsYXlvdXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cFN0YXR1c092ZXJsb2FkLiRlbWl0KFwicG9wdXBTdGF0dXNPdmVybG9hZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50eXBlQ29udGVudCAhPSBcImNhdGVCb3hcIiAmJiB0aGlzLnR5cGVDb250ZW50ICE9IFwidGh1bWJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgJ3BvcHVwJywgJy8nKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xvc2VQb3B1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kcm9vdC5idWlsZE1ldGhvZC5wb3B1cENsb3NlZCgpO1xyXG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC50aXRsZSA9IHRoaXMuJHJvb3QudGl0bGVQYWdlXHJcbiAgICAgICAgICAgICAgICAvLy9kayDEkeG7gyBrdHJhIHhlbSB1c2VyIGPDsyBi4bqtdCBwb3B1cCB0csOqbiBwb3B1cCBrLCBu4bq/dSB3cmFwcG9wdXAgPT4gY2jhu4kgYuG6rXQgMSBwb3B1cFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGVsLmNsYXNzTGlzdC5jb250YWlucyhcIndyYXBQb3B1cFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLnN0eWxlLmJhY2tncm91bmQgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZmFkZS1pblwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5jbGFzc0xpc3QuYWRkKFwiZmFkZS1vdXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBTdGF0dXMuJGVtaXQoXCJwb3B1cFN0YXR1c1wiLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGlzdG9yeS5wdXNoU3RhdGUoe30sICdwb3B1cCcsICcvJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZUNvbnRlbnQgIT0gXCJjYXRlQm94XCIgJiYgdGhpcy50eXBlQ29udGVudCAhPSBcInRodW1iXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy4kZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwid3JhcFBvcHVwT3ZlcmxvYWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZmFkZS1pblwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5jbGFzc0xpc3QuYWRkKFwiZmFkZS1vdXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3cmFwQm94JylbMF0uY2xhc3NMaXN0LnJlbW92ZShcImZhZGUtb3V0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3cmFwQm94JylbMF0uY2xhc3NMaXN0LmFkZChcImZhZGUtaW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vVHJ1eeG7gW4gdGjDtG5nIGLDoW8gxJHDs25nIHBvcHVwT3ZlcmxvYWQgKGxheW91dClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBTdGF0dXNPdmVybG9hZC4kZW1pdChcInBvcHVwU3RhdHVzT3ZlcmxvYWRcIiwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2hpc3RvcnkucHVzaFN0YXRlKHt9LCAncG9wdXAnLCB0aGlzLiRyb290Lm9yaWdpbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZUNvbnRlbnQgIT0gXCJjYXRlQm94XCIgJiYgdGhpcy50eXBlQ29udGVudCAhPSBcInRodW1iXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkuZ28oLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25EcmFnU3RhcnQ6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LmFkZChcImRyYWdnaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiRlbC5maXJzdEVsZW1lbnRDaGlsZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5maXJzdEVsZW1lbnRDaGlsZC5kcmFnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChldmVudC5wYWdlWSB8fCBldmVudC5jbGllbnRZICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApIC1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQub2Zmc2V0VG9wICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoc3R5bGUubWFyZ2luVG9wKSxcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMuJGVsLmZpcnN0RWxlbWVudENoaWxkLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25EcmFnTW92ZTogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJGVsLmZpcnN0RWxlbWVudENoaWxkLmRyYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJGVsLmZpcnN0RWxlbWVudENoaWxkLmRyYWcgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZSA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5maXJzdEVsZW1lbnRDaGlsZC5zdHlsZS50b3AgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZXZlbnQucGFnZVkgfHwgZXZlbnQuY2xpZW50WSArIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSAtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpcnN0RWxlbWVudENoaWxkLmRyYWcueSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25EcmFnRW5kOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQuZHJhZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQuY2xhc3NMaXN0LnJlbW92ZShcImRyYWdnaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludCh0aGlzLiRlbC5maXJzdEVsZW1lbnRDaGlsZC5zdHlsZS50b3AucmVwbGFjZShcInB4XCIsIFwiXCIpKSA+IHBhcnNlSW50KHRoaXMudG9wLnJlcGxhY2UoXCJweFwiLCBcIlwiKSkgKyAxMDAgfHwgcGFyc2VJbnQodGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQuc3R5bGUudG9wLnJlcGxhY2UoXCJweFwiLCBcIlwiKSkgPCBwYXJzZUludCh0aGlzLnRvcC5yZXBsYWNlKFwicHhcIiwgXCJcIikpIC0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpcnN0RWxlbWVudENoaWxkLnN0eWxlLnRvcCA9IGAke3RoaXMudG9wfXB4YDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQuZHJhZyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQuZHJhZyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uRHJhZ092ZXI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb3BlblBvcHVwX186IGZ1bmN0aW9uIChlLCBiKSB7IC8vLyBjbGljayB2w6BvIG3hu58gcG9wdXAgdHLDqm4gcG9wdXBcclxuICAgICAgICAgICAgICAgIGIucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgICAgICAgICAgLy90aGlzLiRlbC5maXJzdEVsZW1lbnRDaGlsZC5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKFwiZmFkZS1pblwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmZpcnN0RWxlbWVudENoaWxkLmNsYXNzTGlzdC5hZGQoXCJmYWRlLW91dFwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBpZCA9IGFyZ3VtZW50c1swXTtcclxuICAgICAgICAgICAgICAgIC8vL3RydXnhu4FuIHN0YXR1cyDEkeG7gyBt4bufIHBvcHVwIChsYXlvdXQpXHJcbiAgICAgICAgICAgICAgICAoaWQgIT0gbnVsbCB8fCBpZCAhPSB1bmRlZmluZWQgfHwgaWQgIT0gXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAvLy9UcnV54buBbiB0aMO0bmcgYsOhbyBt4bufIHBvcHVwT3ZlcmxvYWQgKGxheW91dClcclxuICAgICAgICAgICAgICAgICAgICA/IHBvcHVwU3RhdHVzT3ZlcmxvYWQuJGVtaXQoXCJwb3B1cFN0YXR1c092ZXJsb2FkXCIsIHRydWUsIFwiY29udGVudFwiLCBcImNvbnRlbnRcIiwgeyBpZDogaWQgfSlcclxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29tcHV0ZWQ6IHtcclxuICAgICAgICAgICAgZ2V0VGhpczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICAgICAvL0hlYWRlcixGb290ZXIsUG9wdXBQb3N0LENhcmRUZXh0UmlnaHQsRnVuY0dyb3VwLENhdGVCb3gsU2tlbGV0b25cclxuICAgICAgICAgICAgSGVhZGVyOiAoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJIZWFkZXJcIiAqLyBcIkAvY29tcG9uZW50cy9Qb3B1cC9IZWFkZXJcIiksXHJcbiAgICAgICAgICAgIEZvb3RlcjogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwiRm9vdGVyXCIgKi8gXCJAL2NvbXBvbmVudHMvUG9wdXAvRm9vdGVyXCIpLFxyXG4gICAgICAgICAgICBQb3B1cFBvc3Q6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIlBvcHVwUG9zdFwiICovIFwiQC9jb21wb25lbnRzL1BvcHVwL1BvcHVwUG9zdFwiKSxcclxuICAgICAgICAgICAgQ2FyZFRleHRSaWdodDogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwiQ2FyZFRleHRSaWdodFwiICovIFwiQC9jb21wb25lbnRzL0NhcmQvQ2FyZFRleHRSaWdodFwiKSxcclxuICAgICAgICAgICAgRnVuY0dyb3VwOiAoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJGdW5jR3JvdXBcIiAqLyBcIkAvY29tcG9uZW50cy9GdW5jR3JvdXBcIiksXHJcbiAgICAgICAgICAgIENhdGVCb3g6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIkNhdGVCb3hcIiAqLyBcIkAvY29tcG9uZW50cy9Cb3gvQ2F0ZUJveFwiKSxcclxuICAgICAgICAgICAgU2tlVGV4dFJpZ2h0OiAoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJTa2VUZXh0UmlnaHRcIiAqLyBcIkAvY29tcG9uZW50cy9Ta2VsZXRvbi9Ta2VUZXh0UmlnaHRcIiksXHJcbiAgICAgICAgICAgIEFkdlBvcHVwVG9wOiAoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJBZHZQb3B1cFRvcFwiICovIFwiQC9jb21wb25lbnRzL0Jhbm5lci9BZHZQb3B1cFRvcFwiKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGEoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgcGFnZXM6IDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNob3dMb2FkTW9yZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0b3BpY0FydGljbGVzOiBudWxsLCAvL2FwaSBj4bunYSBiaWdFdmVudFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlJbnRlcmVzdGVkOiBudWxsLCAvL2FwaSBj4bunYSBjYXRlQm94IChjaHV5w6puIG3hu6VjKVxyXG4gICAgICAgICAgICAgICAgc3BlY2lhbGl6ZWROZXdzOiBudWxsLCAvL2FwaSBj4bunYSBjYXRlQm94IChjaHV5w6puIHRyYW5nKSxcclxuICAgICAgICAgICAgICAgIGRldGFpbDogbnVsbCwvLy9hcGkgY+G7p2EgZGV0YWlsIHBvcHVwLFxyXG4gICAgICAgICAgICAgICAgbGlzdEJvb2ttYXJrOiBudWxsLCAvL2FwaSB0aHVtYiAoZHMgYsOgaSB2aeG6v3QgxJHDoyDEkcOhbmggZOG6pXUpXHJcbiAgICAgICAgICAgICAgICBrZXk6IDBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZWQoKSB7XHJcbiAgICAgICAgICAgIGxldCBjb25maWcgPSBjb21tb25IZWxwZXIuY2hlY2tKd3QodGhpcy4kcm9vdC51c2VyKTtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnR5cGVDb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmlnZXZlbnRcIjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydCgnYXhpb3MnKS50aGVuKCh7IGRlZmF1bHQ6IGF4aW9zIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL2NhbGwgYXBpIGPhu6dhIGJpZ0V2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tb25IZWxwZXIuZ2V0S2luZ1Rva2VuKHRrID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlvcyhhcGlXZWIudG9waWNBcnRpY2xlcyh0aGlzLiRyb290LmJ1aWxkTWV0aG9kLmRvbWFpbkFwaSwgY29uZmlnWzBdLCBjb25maWdbMV0sIHRoaXMucGFnZXMsIHRoaXMudG9waWNJZCksIGNvbW1vbkhlbHBlci5nZXRIZWFkZXIodGspKS50aGVuKHJzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3BpY0FydGljbGVzID0gY29tbW9uSGVscGVyLnVucUlkKHJzLmRhdGEuZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gbnVsbCAmJiB0aGlzLiRyb290LmJ1aWxkTWV0aG9kLnRvcGljSWQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHsgLi4udGhpcy50b3BpY0FydGljbGVzLCB0eXBlOiBcImJpZ2V2ZW50XCIsIHRvcGljSWQ6IHRoaXMudG9waWNJZCwgcG9wdXBJbmRleDogMSwgdGl0bGU6IGRvY3VtZW50LnRpdGxlLCB0eXBlSWNvbjogdGhpcy50eXBlSWNvbiwgdHlwZUNvbnRlbnQ6IHRoaXMudHlwZUNvbnRlbnQgfSwgJ3BvcHVwJywgJy9zdS1raWVuLW5vaS1iYXQtJyArIHRoaXMudG9waWNJZCArICcuaHRtJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLnN0eWxlLmFsaWduSXRlbXMgPSAnbm9ybWFsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuJHJvb3QuYnVpbGRNZXRob2QuZG9tYWluKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3BpY0FydGljbGVzID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSBcImhpZGRlblwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuc3R5bGUuYWxpZ25JdGVtcyA9ICdub3JtYWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJob3R0b3BpY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0KCdheGlvcycpLnRoZW4oKHsgZGVmYXVsdDogYXhpb3MgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uSGVscGVyLmdldEtpbmdUb2tlbih0ayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MoYXBpV2ViLnRvcGljQXJ0aWNsZXModGhpcy4kcm9vdC5idWlsZE1ldGhvZC5kb21haW5BcGksIGNvbmZpZ1swXSwgY29uZmlnWzFdLCB0aGlzLnBhZ2VzLCB0aGlzLnRvcGljSWQpLCBjb21tb25IZWxwZXIuZ2V0SGVhZGVyKHRrKSkudGhlbihycyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9waWNBcnRpY2xlcyA9IGNvbW1vbkhlbHBlci51bnFJZChycy5kYXRhLmRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlID09IG51bGwgJiYgdGhpcy4kcm9vdC5idWlsZE1ldGhvZC50b3BpY0lkID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSh7IC4uLnRoaXMudG9waWNBcnRpY2xlcywgdHlwZTogXCJob3R0b3BpY1wiLCB0b3BpY0lkOiB0aGlzLnRvcGljSWQsIHBvcHVwSW5kZXg6IDEsIHRpdGxlOiBkb2N1bWVudC50aXRsZSwgdHlwZUljb246IHRoaXMudHlwZUljb24sIHR5cGVDb250ZW50OiB0aGlzLnR5cGVDb250ZW50IH0sICdwb3B1cCcsICcvY2h1LWRlLW5vaS1iYXQtJyArIHRoaXMudG9waWNJZCArICcuaHRtJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLnN0eWxlLmFsaWduSXRlbXMgPSAnbm9ybWFsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuJHJvb3QuYnVpbGRNZXRob2QuZG9tYWluKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3BpY0FydGljbGVzID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuc3R5bGUuYWxpZ25JdGVtcyA9ICdub3JtYWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0aHVtYlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydCgnYXhpb3MnKS50aGVuKCh7IGRlZmF1bHQ6IGF4aW9zIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uSGVscGVyLmdldEtpbmdUb2tlbih0ayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlvcyhhcGlXZWIubGlzdEJvb2ttYXJrKHRoaXMuJHJvb3QuYnVpbGRNZXRob2QuZG9tYWluQXBpLCBjb25maWdbMF0sIGNvbmZpZ1sxXSksIGNvbW1vbkhlbHBlci5nZXRIZWFkZXIodGspKS50aGVuKHJzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnMuZGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdEJvb2ttYXJrID0gcnMuZGF0YS5kYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpc3RCb29rbWFyayAhPSBudWxsICYmIHRoaXMubGlzdEJvb2ttYXJrLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3RCb29rbWFyay5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0Qm9va21hcmtbaV0uaW1hZ2UgPSB0aGlzLmxpc3RCb29rbWFya1tpXS5zb3VyY2VJbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLnN0eWxlLmFsaWduSXRlbXMgPSAnbm9ybWFsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy4kcm9vdC5idWlsZE1ldGhvZC5kb21haW4pXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2F0ZUJveFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydCgnYXhpb3MnKS50aGVuKCh7IGRlZmF1bHQ6IGF4aW9zIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uSGVscGVyLmdldEtpbmdUb2tlbih0ayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlvcyhhcGlXZWIuY2F0ZWdvcnlJbnRlcmVzdGVkKHRoaXMuJHJvb3QuYnVpbGRNZXRob2QuZG9tYWluQXBpLCBjb25maWdbMF0sIGNvbmZpZ1sxXSksIGNvbW1vbkhlbHBlci5nZXRIZWFkZXIodGspKS50aGVuKHJzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5SW50ZXJlc3RlZCA9IHJzLmRhdGEuZGF0YS5maWx0ZXIoeCA9PiB4LnR5cGUgPT0gMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWNpYWxpemVkTmV3cyA9IHJzLmRhdGEuZGF0YS5maWx0ZXIoeCA9PiB4LnR5cGUgPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXRlZ29yeUludGVyZXN0ZWQubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeUludGVyZXN0ZWQgPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWNpYWxpemVkTmV3cy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwZWNpYWxpemVkTmV3cyA9IG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2F0ZWdvcnlJbnRlcmVzdGVkICE9IG51bGwgJiYgdGhpcy5jYXRlZ29yeUludGVyZXN0ZWQubGVuZ3RoID4gMyB8fCB0aGlzLnNwZWNpYWxpemVkTmV3cyAhPSBudWxsICYmIHRoaXMuc3BlY2lhbGl6ZWROZXdzLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuc3R5bGUuYWxpZ25JdGVtcyA9ICdub3JtYWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvcCA9ICcwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy4kcm9vdC5idWlsZE1ldGhvZC5kb21haW4pXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAvLy9jYWxsIGFwaSBj4bunYSBjYXRlQm94XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY29udGVudCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbC5zdHlsZS5hbGlnbkl0ZW1zID0gJ25vcm1hbCdcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb3VudGVkKCkge1xyXG4gICAgICAgICAgICAvL2lmICh0aGlzLnR5cGVDb250ZW50ICE9IFwiY29udGVudFwiICYmIHRoaXMudHlwZUNvbnRlbnQgIT0gXCJiaWdldmVudFwiICYmIHRoaXMudHlwZUNvbnRlbnQgIT0gXCJ0aHVtYlwiICYmIHRoaXMudHlwZUNvbnRlbnQgIT0gXCJjYXRlQm94XCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudHlwZUNvbnRlbnQgIT0gXCJjb250ZW50XCIgJiYgdGhpcy50eXBlQ29udGVudCAhPSBcImJpZ2V2ZW50XCIgJiYgdGhpcy50eXBlQ29udGVudCAhPSBcImhvdHRvcGljXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9wID0gYCR7dGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQub2Zmc2V0VG9wfWA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25EcmFnU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uRHJhZ01vdmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5vbkRyYWdFbmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHRoaXMub25EcmFnT3Zlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50eXBlQ29udGVudCA9PSAnYmlnZXZlbnQnICYmIHRoaXMuJGVsLmNsYXNzTGlzdC5jb250YWlucygnd3JhcFBvcHVwJykgfHwgdGhpcy50eXBlQ29udGVudCA9PSAnaG90dG9waWMnICYmIHRoaXMuJGVsLmNsYXNzTGlzdC5jb250YWlucygnd3JhcFBvcHVwJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxUb0xvYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGRhdGVkKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS50eXBlID09ICdiaWdldmVudCcgfHwgdGhpcy5zdGF0ZS50eXBlID09ICdob3R0b3BpYycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvcGljQXJ0aWNsZXMgPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuc3R5bGUuYWxpZ25JdGVtcyA9ICdub3JtYWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudG9wID0gYCR7dGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQub2Zmc2V0VG9wfWA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgc2NvcGVkPlxyXG4gICAgLnR4dCB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxNDAlO1xyXG4gICAgICAgIGNvbG9yOiAjMzUzNTM1O1xyXG4gICAgICAgIGZvbnQtZmFtaWx5OiBTRlBELVJlZ3VsYXI7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIH1cclxuXHJcbiAgIC8qIC53cmFwUG9wdXA6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfSovXHJcblxyXG4gIC8qICAud3JhcFBvcHVwT3ZlcmxvYWQ6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfSovXHJcblxyXG4gICAgLnBvcHVwX2NvbnRhaW5lciB7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICB6LWluZGV4OiAyMDA7XHJcbiAgICB9XHJcblxyXG4gICAgLmRyYWdnaW5nIHtcclxuICAgICAgICBjdXJzb3I6IGdyYWJiaW5nICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLndyYXBQb3B1cCB7XHJcbiAgICAgICAgLypwYWRkaW5nOiA2cHg7Ki9cclxuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHotaW5kZXg6IDk5OTtcclxuICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMTAgMTAgMTAgLyA4NCUpO1xyXG4gICAgICAgIHRyYW5zaXRpb246IDAuNXM7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xyXG4gICAgICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB9XHJcblxyXG4gICAgLndyYXBQb3B1cE92ZXJsb2FkIHtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcclxuICAgICAgICBhbGlnbi1pdGVtczogbm9ybWFsO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICB6LWluZGV4OiA5OTk7XHJcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAuY29udGVudF9wb3B1cCB7XHJcbiAgICAgICAgei1pbmRleDogMTAwMDtcclxuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgICAgIHBhZGRpbmc6IDIwcHggMjBweCA0MHB4IDIwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLndyYXBCb3gge1xyXG4gICAgICAgIHotaW5kZXg6IDUwMDtcclxuICAgICAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIH1cclxuXHJcbiAgICAubGlzdF9hZm5ld3MtbWlkIGxpIHtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAyNXB4O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgI0U1RTVFNTtcclxuICAgIH1cclxuXHJcbiAgICAuY2F0ZS1ib3gge1xyXG4gICAgICAgIHdpZHRoOiA3MDBweDtcclxuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgICAgIC5jYXRlLWJveCAuY2F0ZS1sYWJlbCB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjOGU4ZThlO1xyXG4gICAgICAgICAgICBmb250LWZhbWlseTogU0ZQRC1TZW1pQm9sZDtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgLmxpc3QtY2F0ZSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgfVxyXG5cclxuICAgIC5saXN0X2FmbmV3cy1taWQgbGkge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDI1cHg7XHJcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDI1cHg7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCAjZTVlNWU1O1xyXG4gICAgfVxyXG5cclxuICAgICAgICAubGlzdF9hZm5ld3MtbWlkIGxpOm50aC1sYXN0LWNoaWxkKDEpIHtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcclxuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIC5mYWRlLWluIHtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIGFuaW1hdGlvbi1uYW1lOiBmYWRlSW5PcGFjaXR5O1xyXG4gICAgICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XHJcbiAgICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjJzO1xyXG4gICAgfVxyXG5cclxuICAgIC5mYWRlLW91dCB7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICBhbmltYXRpb24tbmFtZTogZmFkZU91dE9wYWNpdHk7XHJcbiAgICAgICAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1vdXQ7XHJcbiAgICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjRzO1xyXG4gICAgfVxyXG5cclxuICAgIEBrZXlmcmFtZXMgZmFkZUluT3BhY2l0eSB7XHJcbiAgICAgICAgMCUge1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgMTAwJSB7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEBrZXlmcmFtZXMgZmFkZU91dE9wYWNpdHkge1xyXG4gICAgICAgIDAlIHtcclxuICAgICAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuPC9zdHlsZT5cclxuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzOiB0aGlzLnBvcHVwT3ZlcmxvYWRcbiAgICAgICAgPyBcIndyYXBQb3B1cE92ZXJsb2FkIGZhZGUtaW5cIlxuICAgICAgICA6IFwid3JhcFBvcHVwIGZhZGUtaW5cIixcbiAgICAgIHN0eWxlOiBbXG4gICAgICAgIHRoaXMudHlwZUNvbnRlbnQgPT0gXCJjb250ZW50XCJcbiAgICAgICAgICA/IHsgYWxpZ25JdGVtczogXCJub3JtYWxcIiB9XG4gICAgICAgICAgOiB7IGFsaWduSXRlbXM6IFwiY2VudGVyXCIgfVxuICAgICAgXSxcbiAgICAgIG9uOiB7IGNsaWNrOiBfdm0uY2xpY2tPdXRTaWRlIH1cbiAgICB9LFxuICAgIFtcbiAgICAgIF9jKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwid3JhcEJveFwiLFxuICAgICAgICAgIHN0eWxlOiBbXG4gICAgICAgICAgICB0aGlzLnR5cGVDb250ZW50ID09IFwiY29udGVudFwiXG4gICAgICAgICAgICAgID8geyB3aWR0aDogXCIxMTYwcHhcIiwgbWFyZ2luVG9wOiBcIjMwcHhcIiB9XG4gICAgICAgICAgICAgIDogeyB3aWR0aDogXCI3NDBweFwiIH0sXG4gICAgICAgICAgICB0aGlzLnR5cGVDb250ZW50ID09IFwiY29udGVudFwiIHx8XG4gICAgICAgICAgICB0aGlzLnR5cGVDb250ZW50ID09IFwiYmlnZXZlbnRcIiB8fFxuICAgICAgICAgICAgdGhpcy50eXBlQ29udGVudCA9PSBcImhvdHRvcGljXCJcbiAgICAgICAgICAgICAgPyB7IG92ZXJmbG93OiBcIm5vbmVcIiwgY3Vyc29yOiBcImNvbnRleHQtbWVudVwiIH1cbiAgICAgICAgICAgICAgOiB7IG92ZXJmbG93OiBcImhpZGRlblwiLCBjdXJzb3I6IFwiZ3JhYlwiIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInBvcHVwX2NvbnRhaW5lclwiIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwiSGVhZGVyXCIsIHtcbiAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgY2xvc2VQb3B1cDogdGhpcy5jbG9zZVBvcHVwLFxuICAgICAgICAgICAgICAgICAgdHlwZUljb246IHRoaXMudHlwZUljb24sXG4gICAgICAgICAgICAgICAgICB0b3BpY05hbWU6IHRoaXMudG9waWNOYW1lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgdGhpcy50eXBlQ29udGVudCA9PSBcImNvbnRlbnRcIiA/IF9jKFwiQWR2UG9wdXBUb3BcIikgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImNvbnRlbnRfcG9wdXBcIiB9LFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgIHRoaXMudHlwZUNvbnRlbnQgPT0gXCJ0aHVtYlwiICYmIHRoaXMubGlzdEJvb2ttYXJrICE9IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwibGlzdF9hZm5ld3MtbWlkXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fbCh0aGlzLmxpc3RCb29rbWFyaywgZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogaW5kZXggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcIkNhcmRUZXh0UmlnaHRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVTb3VyY2U6IDEzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Tb3VyY2U6IFwiYm90dG9tXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtaWRUaHVtYlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Qb3B1cDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5nZXRUaGlzLm9wZW5Qb3B1cF9fKGl0ZW0uaWQsIGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGl0ZW0uc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IGl0ZW0ucHVibGlzaERhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMudHlwZUNvbnRlbnQgPT0gXCJ0aHVtYlwiICYmIHRoaXMubGlzdEJvb2ttYXJrID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyBfYyhcInVsXCIsIHsgc3RhdGljQ2xhc3M6IFwibGlzdF9hZm5ld3MtbWlkXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInR4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IFwidGV4dC1hbGlnblwiOiBcImNlbnRlclwiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgQ2jGsGEgY8OzIHRow7RuZyB0aW5cXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnR5cGVDb250ZW50ID09IFwiY2F0ZUJveFwiXG4gICAgICAgICAgICAgICAgICAgID8gX2MoXCJkaXZcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeUludGVyZXN0ZWQgPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVjaWFsaXplZE5ld3MgPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidHh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IFwidGV4dC1hbGlnblwiOiBcImNlbnRlclwiIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIENoxrBhIGPDsyB0aMO0bmcgdGluXFxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeUludGVyZXN0ZWQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5SW50ZXJlc3RlZC5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYyhcIkNhdGVCb3hcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkNodXnDqm4gbeG7pWNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmNhdGVnb3J5SW50ZXJlc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlY2lhbGl6ZWROZXdzICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGVjaWFsaXplZE5ld3MubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gX2MoXCJDYXRlQm94XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJDaHV5w6puIHRyYW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5zcGVjaWFsaXplZE5ld3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMudHlwZUNvbnRlbnQgPT0gXCJjb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgPyBfYyhcIlBvcHVwUG9zdFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBzdGF0ZTogdGhpcy5zdGF0ZSwgZGF0YUlkOiB0aGlzLmlkIH1cbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMudHlwZUNvbnRlbnQgPT0gXCJiaWdldmVudFwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlQ29udGVudCA9PSBcImhvdHRvcGljXCJcbiAgICAgICAgICAgICAgICAgICAgPyBfYyhcImRpdlwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvcGljQXJ0aWNsZXMgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1bFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJsaXN0X2FmbmV3cy1taWRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX2wodGhpcy50b3BpY0FydGljbGVzLCBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpbmRleCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcIkNhcmRUZXh0UmlnaHRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm1pZFRodW1iXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlblBvcHVwOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZ2V0VGhpcy5vcGVuUG9wdXBfXyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlVGh1bWI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IFwiMjBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiBcIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVTb3VyY2U6IDEzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1ByZXZpZXc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblNvdXJjZTogXCJib3R0b21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TG9hZE1vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFwibGlcIiwgW19jKFwiU2tlVGV4dFJpZ2h0XCIpXSwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfYyhcInVsXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwibGlcIiwgW19jKFwiU2tlVGV4dFJpZ2h0XCIpXSwgMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJsaVwiLCBbX2MoXCJTa2VUZXh0UmlnaHRcIildLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImxpXCIsIFtfYyhcIlNrZVRleHRSaWdodFwiKV0sIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgIF9jKFwiRm9vdGVyXCIpXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgMVxuICAgICAgICAgIClcbiAgICAgICAgXVxuICAgICAgKVxuICAgIF1cbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ3NTgwN2EyJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTQ3NTgwN2EyJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCI0NzU4MDdhMlwiLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIkQ6XFxcXENvZGVcXFxcLk5FVFxcXFwwMS5wZWdhLnZuXFxcXFVJXFxcXHd3d3Jvb3RcXFxcdnVlXFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzQ3NTgwN2EyJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzQ3NTgwN2EyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzQ3NTgwN2EyJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9pbmRleC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NDc1ODA3YTImc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignNDc1ODA3YTInLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNyYy9jb21wb25lbnRzL1BvcHVwL2luZGV4LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTQ3NTgwN2EyJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiIiwiZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00NzU4MDdhMiZzY29wZWQ9dHJ1ZSZcIiJdLCJzb3VyY2VSb290IjoiIn0=